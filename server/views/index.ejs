<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <% if (meta) {  for (var name in meta){ %>
      <meta name="<%= name %>" content="<%= meta[name] %>">
    <% } } %>
    <title>React Server Base</title>

    <script id="prerender_data">
      window.PrerenderData = {};
      <% if (prerender_data) { %>
        Object.assign(window.PrerenderData, <%- JSON.stringify(prerender_data) %>);<% } %>
      // Force `fetch` polyfill to workaround Chrome not displaying request body
      // in developer tools for the native `fetch`.
      self.fetch = null;
    </script>

    <% if (process.env.NODE_ENV === 'design') { %>
    <script>
      // used by config/design/styles to download and compile sass assets in the browser.
      window.SASS_DESIGN_ASSETS = [
        '/assets/css/app.scss'
      ]
    </script>
    <link href="/assets/css/vendor.css" rel="stylesheet" type="text/css"/>
    <% } else { %>
    <link href="/assets/style.css" rel="stylesheet" type="text/css"/>
    <% } %>
  </head>
  <body>
    <% include header.ejs %>
    <div class="container">
      <% if (process.env.NODE_ENV === 'design') { %>
      <div class="alert alert-warning" id="loading_styles">Compiling styles and templates...</div>
      <div id="root" style="display:none;"></div>
      <% } else { %>
      <div id="root"><%- prerender_content %></div>
      <% } %>
    </div>
    <% include footer.ejs %>
    <% if (process.env.NODE_ENV === 'design') { %>
    <script src="/assets/sass/sass.min.js" type="text/javascript"></script>
    <% } %>
    <% if (process.env.NODE_ENV === 'development') { %>
    <script src="http://localhost:3000/webpack-dev-server.js"></script><% } %>
    <script src="/assets/app.js"></script>
  </body>
</html>
